---
LastModifyingUser: fitnesse
Suites: ui, tests, PlaygroundTests, NdmIfacePpp
Test
---
!contents -R2 -g -p -h

| script |
| show | link to screenshots |

| script |
| set step delay to | 500 |
| do | open | on | !-http://localhost:3000-! |
| ensure | do | waitForElementNotPresent | on | css=span.loading__line |
| do | scrollIntoView | on | text=ndm-iface-ppp |

PPPoE

| script |
| ensure | do | select | on | !-//*[@id="sb-8"]/input-! | with | !-PPPoE-! |
| ensure | do | click | on | text=ndm-iface-ppp |
| ensure | do | type | on | !-//input[@name='ndm-iface-pppidentity']-! | with | пользователь |
| ensure | do | verifyVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='ndm-iface-pppidentity']-! | with | user |
| ensure | do | type | on | !-//input[@name='ndm-iface-ppppassword']-! | with | ПАРОЛЬ |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='ndm-iface-ppppassword']-! | with | password |
| ensure | do | click | on | text=iface-ppp.show* |
| ensure | do | select | on | !-//*[@id="sb-9"]/input-! | with | pap |
| ensure | do | click | on | text=ndm-iface-ppp |
| ensure | do | type | on | !-//input[@name='ndm-iface-pppservice']-! | with | service |
| ensure | do | type | on | !-//input[@name='ndm-iface-ppppppoePeer']-! | with | peer |
| ensure | do | select | on | !-//*[@id="sb-10"]/input-! | with | static |
| ensure | do | click | on | text=ndm-iface-ppp |
| ensure | do | type | on | !-//input[@name='pppip-ip']-! | with | text |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-ip']-! | with | 456 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-ip']-! | with | 4001.123.253.23 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-ip']-! | with | 128.123.253.23 |
| ensure | do | type | on | !-//input[@name='pppip-remoteIp']-! | with | text |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-remoteIp']-! | with | 456 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-remoteIp']-! | with | 4001.123.253.23 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-remoteIp']-! | with | 192.123.253.23 |
| ensure | do | type | on | !-//input[@name='pppip-dns0']-! | with | text |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns0']-! | with | 456 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns0']-! | with | 4001.123.253.23 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns0']-! | with | 8.8.8.8 |
| ensure | do | type | on | !-//input[@name='pppip-dns1']-! | with | text |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns1']-! | with | 456 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns1']-! | with | 4001.123.253.23 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns1']-! | with | 4.4.4.4 |
| ensure | do | type | on | !-//input[@name='pppip-dns2']-! | with | text |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns2']-! | with | 456 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns2']-! | with | 4001.123.253.23 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-dns2']-! | with | 5.5.5.5 |
| ensure | do | type | on | !-//input[@name='pppip-mtu']-! | with | 45 |
| ensure | do | waitForVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='pppip-mtu']-! | with | 800 |
| ensure | do | check | on | id=pppip-IPv6 |
| ensure | do | verifyChecked | on | id=pppip-IPv6 |
| ensure | do | check | on | id=pppip-tcpmss |
| ensure | do | verifyChecked | on | id=pppip-tcpmss |

PPTP

| script |
| ensure | do | select | on | !-//*[@id="sb-8"]/input-! | with | PPTP |
| ensure | do | click | on | text=ndm-iface-ppp |
| ensure | do | type | on | !-//input[@name='ndm-iface-pppaddress']-! | with | 567,8 |
| ensure | do | verifyVisible | on | text=errors* |
| ensure | do | type | on | !-//input[@name='ndm-iface-pppaddress']-! | with | 192.168.1.41 |
| ensure | do | check | on | id=ndm-iface-pppmppe |
| ensure | do | verifyChecked | on | id=ndm-iface-pppmppe |
| do | verifyNotEditable | on | id=ndm-iface-pppccp |

Проверка старых значений

| script |
| ensure | do | verifyChecked | on | id=pppip-IPv6 |
| ensure | do | verifyChecked | on | id=pppip-tcpmss |
| $adress= | is | storeValue | on | !-//input[@name='pppip-ip']-! |
| $remote= | is | storeValue | on | !-//input[@name='pppip-remoteIp']-! |
| $dns1= | is | storeValue | on | !-//input[@name='pppip-dns0']-! |
| $dns2= | is | storeValue | on | !-//input[@name='pppip-dns1']-! |
| $dns3= | is | storeValue | on | !-//input[@name='pppip-dns2']-! |
| $mtu= | is | storeValue | on | !-//input[@name='pppip-mtu']-! |
| $algo= | is | storeValue | on | !-//*[@id="sb-9"]/input-! |
| $mode= | is | storeValue | on | !-//*[@id="sb-10"]/input-! |
| ensure | do | verifyEval | on | "$adress" | with | 128.123.253.23 |
| ensure | do | verifyEval | on | "$remote" | with | 192.123.253.23 |
| ensure | do | verifyEval | on | "$dns1" | with | 8.8.8.8 |
| ensure | do | verifyEval | on | "$dns2" | with | 4.4.4.4 |
| ensure | do | verifyEval | on | "$dns3" | with | 5.5.5.5 |
| ensure | do | verifyEval | on | "$mtu" | with | 800 |
| ensure | do | verifyEval | on | "$mode" | with | static |
| ensure | do | verifyEval | on | "$algo" | with | pap |

L2TP

| script |
| ensure | do | select | on | !-//*[@id="sb-8"]/input-! | with | !-L2TP-! |
| ensure | do | click | on | text=ndm-iface-ppp |

Проверка старых значений

| script |
| ensure | do | verifyChecked | on | id=pppip-IPv6 |
| ensure | do | verifyChecked | on | id=pppip-tcpmss |
| do | verifyNotEditable | on | id=ndm-iface-pppccp |
| $adress= | is | storeValue | on | !-//input[@name='pppip-ip']-! |
| $remote= | is | storeValue | on | !-//input[@name='pppip-remoteIp']-! |
| $dns1= | is | storeValue | on | !-//input[@name='pppip-dns0']-! |
| $dns2= | is | storeValue | on | !-//input[@name='pppip-dns1']-! |
| $dns3= | is | storeValue | on | !-//input[@name='pppip-dns2']-! |
| $mtu= | is | storeValue | on | !-//input[@name='pppip-mtu']-! |
| $algo= | is | storeValue | on | !-//*[@id="sb-9"]/input-! |
| $mode= | is | storeValue | on | !-//*[@id="sb-10"]/input-! |
| ensure | do | verifyEval | on | "$adress" | with | 128.123.253.23 |
| ensure | do | verifyEval | on | "$remote" | with | 192.123.253.23 |
| ensure | do | verifyEval | on | "$dns1" | with | 8.8.8.8 |
| ensure | do | verifyEval | on | "$dns2" | with | 4.4.4.4 |
| ensure | do | verifyEval | on | "$dns3" | with | 5.5.5.5 |
| ensure | do | verifyEval | on | "$mtu" | with | 800 |
| ensure | do | verifyEval | on | "$mode" | with | static |
| ensure | do | verifyEval | on | "$algo" | with | pap |
