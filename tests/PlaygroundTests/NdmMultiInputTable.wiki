---
LastModifyingUser: fitnesse
Suites: ui, tests, PlaygroundTests, NdmMultiInputTable
Test
---
!contents -R2 -g -p -h

| script |
| show | link to screenshots |

| script |
| set step delay to | 500 |
| do | open | on | !-http://localhost:3000-! |
| ensure | do | waitForElementNotPresent | on | css=span.loading__line |
| do | scrollIntoView | on | text=ndm-multi-input-table |

Проверка на возможность добавления поля

| script |
| ensure | do | click | on | text=Добавить поле |
| ensure | do | verifyVisible | on | !-//input[@name='key']-! |
| ensure | do | click | on | text=multi-input-table.cancel |
| do | verifyNotVisible | on | !-//input[@name='key']-! |
| ensure | do | click | on | text=Добавить поле |
| ensure | do | type | on | !-//input[@name='key']-! | with | field |
| ensure | do | click | on | text=multi-input-table.apply |
| ensure | do | verifyElementPresent | on | text=*field |
| ensure | do | click | on | text=Добавить поле |
| ensure | do | type | on | !-//input[@name='key']-! | with | new field |
| ensure | do | click | on | text=multi-input-table.apply |
| ensure | do | verifyElementPresent | on | text=*new field* |

Проверка на возможность удаления поля

| script |
| ensure | do | click | on | !-//div[@ng-form='subform']/table/tbody/tr[5]/td[3]-! |
| do | verifyElementNotPresent | on | text=*new field* |

Удаление таблицы

| script |
| ensure | do | click | on | text=multi-input-table.flush |
| ensure | do | click | on | text=confirm |
| ensure | do | verifyVisible | on | text=multi-input-table.empty-message |
