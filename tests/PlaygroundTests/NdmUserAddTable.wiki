---
LastModifyingUser: fitnesse
Suites: ui, tests, PlaygroundTests, NdmUserAddTable
Test
---
!contents -R2 -g -p -h

| script |
| show | link to screenshots |

| script |
| set step delay to | 500 |
| do | open | on | !-http://localhost:3000-! |
| ensure | do | waitForElementNotPresent | on | css=span.loading__line |
| do | scrollIntoView | on | text=ndm-user-add-table |

Добавление пользователя

| script |
| ensure | do | click | on | link=apps.ftp.add-user-text |
| ensure | do | click | on | text=cancel |
| do | verifyNotVisible | on | name=newuser |
| do | verifyNotVisible | on | name=newpass |
| ensure | do | click | on | link=apps.ftp.add-user-text |
| ensure | do | type | on | name=newuser | with | superuser |
| ensure | do | type | on | name=newpass | with | password |
| ensure | do | click | on | !-name=addUserButton-! |
| ensure | do | waitForElementPresent | on | text=*superuser* |
| ensure | do | click | on | link=apps.ftp.add-user-text |
| ensure | do | type | on | name=newuser | with | superuser |
| ensure | do | verifyElementPresent | on | text=errors* |
| ensure | do | click | on | text=cancel |

Удаление всех пользователей кроме admin

| script |
| $user1= | is | storeText | on | //form/div[51] |
| $user2= | is | storeText | on | //form/div[50] |
| ensure | do | click | on | text=Удалить всех пользователей* |
| ensure | do | click | on | text=Удалить всех пользователей* |
| do | verifyElementNotPresent | on | text=*$user1* |
| do | verifyElementNotPresent | on | text=*$user2* |
| do | verifyElementNotPresent | on | text=*superuser* |
